<?xml version="1.0" encoding="UTF-8"?>
<sod xmlns:xlink="http://www.w3.org/1999/xlink/">
    <properties>
        <runName>LocalSeismogram Kitchen Sink</runName>
        <statusBase>status</statusBase>
        <eventQueryIncrement>
            <value>1</value>
            <unit>WEEK</unit>
        </eventQueryIncrement>
        <eventRefreshInterval>
            <value>6</value>
            <unit>MINUTE</unit>
        </eventRefreshInterval>
        <eventLag>
            <value>1</value>
            <unit>WEEK</unit>
        </eventLag>
        <maxRetryDelay>
            <value>16</value>
            <unit>DAY</unit>
        </maxRetryDelay>
        <waveformWorkerThreads>1</waveformWorkerThreads>
        <removeDatabase>TRUE</removeDatabase>
        <eventChannelPairProcessing>atLeastOnce</eventChannelPairProcessing>
    </properties>
    <eventArm>
        <eventFinder>
            <name>IRIS_EventDC</name>
            <dns>edu/iris/dmc</dns>
            <boxArea>
                <latitudeRange>
                    <unit>DEGREE</unit>
                    <min>-90</min>
                    <max>90</max>
                </latitudeRange>
                <longitudeRange>
                    <unit>DEGREE</unit>
                    <min>-180</min>
                    <max>180</max>
                </longitudeRange>
            </boxArea>
            <originDepthRange>
                <unit>KILOMETER</unit>
                <min>0</min>
                <max>1000</max>
            </originDepthRange>
            <originTimeRange>
                <startTime>20030101T00:00:00.001Z</startTime>
                <endTime>20030131T23:59:59.999Z</endTime>
            </originTimeRange>
            <magnitudeRange>
                <min>6.0</min>
                <max>10.0</max>
            </magnitudeRange>
            <catalog>PREF</catalog>
            <contributor>IRIS</contributor>
        </eventFinder>
        <removeEventDuplicate/>
        <printLineEventProcess/>
        <eventStatusTemplate xlink:href="jar:edu/sc/seis/sod/data/templates/eventArm/eventStatus.xml"/>
    </eventArm>
    <networkArm>
        <networkFinder>
            <name>IRIS_NetworkDC</name>
            <dns>edu/iris/dmc</dns>
            <refreshInterval>
                <unit>HOUR</unit>
                <value>50</value>
            </refreshInterval>
        </networkFinder>
        <networkCode>II</networkCode>
        <stationEffectiveTimeOverlap>
            <startTime>20030101T00:00:00.001Z</startTime>
            <endTime>20030131T23:59:59.999Z</endTime>
        </stationEffectiveTimeOverlap>
        <siteAND>
            <siteOR>
                <siteCode/>
                <siteCode>00</siteCode>
            </siteOR>
            <siteEffectiveTimeOverlap>
                <startTime>20030101T00:00:00.001Z</startTime>
                <endTime>20030131T23:59:59.999Z</endTime>
            </siteEffectiveTimeOverlap>
        </siteAND>
        <channelAND>
            <bandCode>L</bandCode>
            <channelNOT>
                <!-- to prevent LOG channels -->
                <gainCode>O</gainCode>
            </channelNOT>
            <channelEffectiveTimeOverlap>
                <startTime>20030101T00:00:00.001Z</startTime>
                <endTime>20030131T23:59:59.999Z</endTime>
            </channelEffectiveTimeOverlap>
        </channelAND>
        <networkInfoTemplateGenerator>
            <netConfig xlink:href="jar:edu/sc/seis/sod/data/templates/networkArm/networks.xml"/>
            <stationConfig xlink:href="jar:edu/sc/seis/sod/data/templates/networkArm/stations.xml"/>
            <channelConfig xlink:href="jar:edu/sc/seis/sod/data/templates/networkArm/channels.xml"/>
        </networkInfoTemplateGenerator>
    </networkArm>
    <waveformArm>
        <eventStationAND>
            <eventStationOR>
                <distanceRange>
                    <unit>DEGREE</unit>
                    <min>0</min>
                    <max>10</max>
                </distanceRange>
                <passEventStation/>
            </eventStationOR>
            <eventStationOR>
                <embeddedOriginSubsetter>
                    <magnitudeRange>
                        <min>5.3</min>
                        <max>10.0</max>
                    </magnitudeRange>
                </embeddedOriginSubsetter>
                <passEventStation/>
            </eventStationOR>
            <eventStationOR>
                <embeddedStationSubsetter>
                    <stationCode>ANMO</stationCode>
                </embeddedStationSubsetter>
                <passEventStation/>
            </eventStationOR>
            <eventStationOR>
                <azimuthRange>
                    <unit>DEGREE</unit>
                    <min>30</min>
                    <max>90</max>
                </azimuthRange>
                <passEventStation/>
            </eventStationOR>
            <eventStationOR>
                <backAzimuthRange>
                    <unit>DEGREE</unit>
                    <min>30</min>
                    <max>90</max>
                </backAzimuthRange>
                <passEventStation/>
            </eventStationOR>
            <eventStationOR>
                <linearDistanceMagnitudeRange>
                    <magnitudeRange>
                        <magType>mb</magType>
                        <magType>M</magType>
                        <min>5.5</min>
                    </magnitudeRange>
                    <unit>DEGREE</unit>
                    <min>30</min>
                    <max>90</max>
                </linearDistanceMagnitudeRange>
                <passEventStation/>
            </eventStationOR>
            <eventStationOR>
                <eventStationXOR>
                    <distanceRange>
                        <unit>DEGREE</unit>
                        <min>0</min>
                        <max>10</max>
                    </distanceRange>
                    <distanceRange>
                        <unit>DEGREE</unit>
                        <min>0</min>
                        <max>10</max>
                    </distanceRange>
                </eventStationXOR>
                <passEventStation/>
            </eventStationOR>
            <eventStationOR>
                <eventStationNOT>
                    <distanceRange>
                        <unit>DEGREE</unit>
                        <min>0</min>
                        <max>10</max>
                    </distanceRange>
                </eventStationNOT>
                <passEventStation/>
            </eventStationOR>
            <eventStationOR>
                <midPoint>
                    <boxArea>
                        <latitudeRange>
                            <unit>DEGREE</unit>
                            <min>20</min>
                            <max>40</max>
                        </latitudeRange>
                        <longitudeRange>
                            <unit>DEGREE</unit>
                            <min>75</min>
                            <max>85</max>
                        </longitudeRange>
                    </boxArea>
                </midPoint>
                <passEventStation/>
            </eventStationOR>
            <eventStationOR>
                <phaseExists>
                    <modelName>prem</modelName>
                    <phaseName>P</phaseName>
                </phaseExists>
                <passEventStation/>
            </eventStationOR>
        </eventStationAND>
        <localSeismogramArm>
            <eventChannelAND>
                <eventChannelOR>
                    <embeddedEventStation>
                        <distanceRange>
                            <unit>DEGREE</unit>
                            <min>40</min>
                            <max>50</max>
                        </distanceRange>
                    </embeddedEventStation>
                    <passEventChannel/>
                </eventChannelOR>
                <eventChannelOR>
                    <embeddedChannel>
                        <sampling>
                            <min>1</min>
                            <max>40</max>
                            <interval>
                                <unit>SECOND</unit>
                                <value>1</value>
                            </interval>
                        </sampling>
                    </embeddedChannel>
                    <passEventChannel/>
                </eventChannelOR>
                <eventChannelOR>
                    <eventChannelXOR>
                        <embeddedEventStation>
                            <distanceRange>
                                <unit>DEGREE</unit>
                                <min>40</min>
                            </distanceRange>
                        </embeddedEventStation>
                        <embeddedChannel>
                            <bandCode>B</bandCode>
                        </embeddedChannel>
                    </eventChannelXOR>
                    <passEventChannel/>
                </eventChannelOR>
                <eventChannelOR>
                    <eventChannelNOT>
                        <embeddedEventStation>
                            <distanceRange>
                                <unit>DEGREE</unit>
                                <min>40</min>
                            </distanceRange>
                        </embeddedEventStation>
                    </eventChannelNOT>
                    <passEventChannel/>
                </eventChannelOR>
            </eventChannelAND>
            <phaseRequest>
                <model>prem</model>
                <beginPhase>ttp</beginPhase>
                <beginOffset>
                    <unit>SECOND</unit>
                    <value>-60</value>
                </beginOffset>
                <endPhase>tts</endPhase>
                <endOffset>
                    <unit>SECOND</unit>
                    <value>360</value>
                </endOffset>
            </phaseRequest>
            <requestSubsetterAND>
                <requestSubsetterOR>
                    <requestSubsetterXOR>
                        <requestPrint/>
                        <requestPrint/>
                    </requestSubsetterXOR>
                    <passRequest/>
                </requestSubsetterOR>
                <requestSubsetterOR>
                    <requestSubsetterNOT>
                        <requestPrint/>
                    </requestSubsetterNOT>
                    <passRequest/>
                </requestSubsetterOR>
                <requestSubsetterOR>
                    <requestPrint/>
                    <passRequest/>
                </requestSubsetterOR>
                <requestSubsetterOR>
                    <breqFastRequestSubsetter>
                        <dataDirectory>request</dataDirectory>
                        <name>Jagadeesh Danala</name>
                        <inst>USC</inst>
                        <mail>abc</mail>
                        <email>danala@seis.sc.edu</email>
                        <phone>8037778986</phone>
                        <fax>9999</fax>
                        <media>asdf</media>
                        <altmedia1/>
                        <altmedia2/>
                        <quality/>
                    </breqFastRequestSubsetter>
                    <passRequest/>
                </requestSubsetterOR>
            </requestSubsetterAND>
            <fixedDataCenter>
                <name>IRIS_PondDataCenter</name>
                <dns>edu/iris/dmc</dns>
            </fixedDataCenter>
            <availableDataAND>
                <availableDataOR>
                    <postEventWait>
                        <unit>SECOND</unit>
                        <value>10.5</value>
                    </postEventWait>
                    <passAvailableData/>
                </availableDataOR>
                <availableDataOR>
                    <noGaps/>
                    <passAvailableData/>
                </availableDataOR>
                <availableDataOR>
                    <fullCoverage/>
                    <passAvailableData/>
                </availableDataOR>
                <availableDataOR>
                    <someCoverage/>
                    <passAvailableData/>
                </availableDataOR>
                <availableDataOR>
                    <availableDataXOR>
                        <noGaps/>
                        <fullCoverage/>
                    </availableDataXOR>
                    <passAvailableData/>
                </availableDataOR>
                <availableDataOR>
                    <availableDataNOT>
                        <fullCoverage/>
                    </availableDataNOT>
                    <passAvailableData/>
                </availableDataOR>
            </availableDataAND>
            <forkProcess>
                <alwaysSuccess>
                    <printlineSeismogramProcess/>
                </alwaysSuccess>
            </forkProcess>
            <forkProcess>
                <alwaysSuccess>
                    <saveSeismogramToFile>
                        <fileType>sac</fileType>
                        <dataDirectory>POND_II</dataDirectory>
                        <eventDirLabel>Event_<originTime>yyyy_DDD_HH_mm_ss</originTime>
                        </eventDirLabel>
                    </saveSeismogramToFile>
                </alwaysSuccess>
            </forkProcess>
            <forkProcess>
                <alwaysSuccess>
                    <responseGain/>
                </alwaysSuccess>
            </forkProcess>
            <forkProcess>
                <alwaysSuccess>
                    <phaseCut>
                        <model>prem</model>
                        <beginPhase>ttp</beginPhase>
                        <beginOffset>
                            <unit>SECOND</unit>
                            <value>-60</value>
                        </beginOffset>
                        <endPhase>tts</endPhase>
                        <endOffset>
                            <unit>SECOND</unit>
                            <value>360</value>
                        </endOffset>
                    </phaseCut>
                </alwaysSuccess>
            </forkProcess>
            <forkProcess>
                <alwaysSuccess>
                    <rMean/>
                </alwaysSuccess>
            </forkProcess>
            <forkProcess>
                <alwaysSuccess>
                    <rTrend/>
                </alwaysSuccess>
            </forkProcess>
            <forkProcess>
                <alwaysSuccess>
                    <taper>
                        <width>.05</width>
                        <type>HANNING</type>
                    </taper>
                </alwaysSuccess>
            </forkProcess>
            <forkProcess>
                <alwaysSuccess>
                    <localSeismogramTemplateGenerator xlink:href="jar:edu/sc/seis/sod/data/templates/waveformArm/localSeismogram.xml"/>
                </alwaysSuccess>
            </forkProcess>
            <forkProcess>
                <alwaysSuccess>
                    <filter>
                        <lowFreqCorner>
                            <value>50</value>
                            <unit>SECOND</unit>
                        </lowFreqCorner>
                        <highFreqCorner>
                            <value>5</value>
                            <unit>HERTZ</unit>
                        </highFreqCorner>
                        <numPoles>2</numPoles>
                        <filterType>NONCAUSAL</filterType>
                    </filter>
                </alwaysSuccess>
            </forkProcess>
            <forkProcess>
                <alwaysSuccess>
                    <phaseSignalToNoise>
                        <phaseName>P</phaseName>
                        <shortOffsetBegin>
                            <unit>SECOND</unit>
                            <value>100</value>
                        </shortOffsetBegin>
                        <shortOffsetEnd>
                            <unit>SECOND</unit>
                            <value>200</value>
                        </shortOffsetEnd>
                        <longOffsetBegin>
                            <unit>SECOND</unit>
                            <value>100</value>
                        </longOffsetBegin>
                        <longOffsetEnd>
                            <unit>SECOND</unit>
                            <value>200</value>
                        </longOffsetEnd>
                        <ratio>2</ratio>
                    </phaseSignalToNoise>
                </alwaysSuccess>
            </forkProcess>
            <!-- <forkProcess>
        <alwaysSuccess>
            <seismogramImageProcess>
                <seismogramConfig xlink:href=""/>
            </seismogramImageProcess>
        </alwaysSuccess>
     </forkProcess> -->
            <forkProcess>
                <alwaysSuccess>
                    <legacyExecute>
                        <command>echo</command>
                    </legacyExecute>
                </alwaysSuccess>
            </forkProcess>
            <forkProcess>
                <alwaysSuccess>
                    <seismogramAND>
                        <rMean/>
                        <rTrend/>
                    </seismogramAND>
                </alwaysSuccess>
            </forkProcess>
            <forkProcess>
                <alwaysSuccess>
                    <seismogramXOR>
                        <rMean/>
                        <rTrend/>
                    </seismogramXOR>
                </alwaysSuccess>
            </forkProcess>
            <forkProcess>
                <alwaysSuccess>
                    <seismogramOR>
                        <rMean/>
                        <rTrend/>
                    </seismogramOR>
                </alwaysSuccess>
            </forkProcess>
            <forkProcess>
                <alwaysSuccess>
                    <seismogramNOT>
                        <rMean/>
                    </seismogramNOT>
                </alwaysSuccess>
            </forkProcess>
        </localSeismogramArm>
        <waveformEventTemplateGenerator xlink:href="jar:edu/sc/seis/sod/data/templates/waveformArm/waveformEvent.xml"/>
        <waveformNetworkStatus>
            <template>jar:edu/sc/seis/sod/data/templates/waveformArm/waveformNetwork.xml</template>
            <networkListTemplate>jar:edu/sc/seis/sod/data/templates/waveformArm/waveformNetworks.xml</networkListTemplate>
        </waveformNetworkStatus>
        <waveformStationStatus>
            <template>jar:edu/sc/seis/sod/data/templates/waveformArm/waveformStation.xml</template>
        </waveformStationStatus>
    </waveformArm>
</sod>
