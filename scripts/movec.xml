<?xml version="1.0" encoding="UTF-8"?>
<sod xmlns:xlink="http://www.w3.org/1999/xlink/">
    <properties>
        <property>
            <name>sod.start.RunName</name>
            <value>REV Test</value>
        </property>
        <property>
            <name>sod.start.StatusBaseDirectory</name>
            <value>status</value>
        </property>
        <property>
            <name>sod.start.ReopenEvents</name>
            <value>true</value>
        </property>
        
        
        <property>
            <name>edu.sc.seis.sod.waveformarm.threads</name>
            <value>1</value>
        </property>
        
        <property>
            <name>edu.sc.seis.sod.databasetype</name>
            <value>edu.sc.seis.sod.database.HSqlDbManager</value>
        </property>
        
        <!-- amount of time per request to eventFinder -->
        <property>
            <name>sod.event.QueryIncrement.value</name>
            <value>1</value>
        </property>
        <property>
            <name>sod.event.QueryIncrement.unit</name>
            <value>week</value>
        </property>
        
        <!-- don't go back and reask server for events that may have
         appeared in server after this was first run. -->
        <property>
            <name>edu.sc.seis.sod.database.getNewEvents</name>
            <value>true</value>
        </property>
    </properties>
    <eventArm>
        <eventFinder>
            <name>IRIS_EventDC</name>
            <dns>edu/iris/dmc</dns>
            <boxArea>
                <latitudeRange>
                    <unit>DEGREE</unit>
                    <min>-90</min>
                    <max>90</max>
                </latitudeRange>
                <longitudeRange>
                    <unit>DEGREE</unit>
                    <min>-180</min>
                    <max>180</max>
                </longitudeRange>
            </boxArea>
            <originDepthRange>
                <unitRange>
                    <unit>KILOMETER</unit>
                    <min>0</min>
                    <max>1000</max>
                </unitRange>
            </originDepthRange>
            <eventTimeRange>
                <timeRange>
                    <startTime>20040425T00:00:00.001Z</startTime>
                    <endTime>20050131T23:59:59.999Z</endTime>
                </timeRange>
            </eventTimeRange>
            <magnitudeRange>
                <magType>%</magType>
                <min>3.0</min>
                <max>10.0</max>
            </magnitudeRange>
            <catalog>FINGER</catalog>
            <contributor>NEIC</contributor>
        </eventFinder>
        <mapEventStatus xlink:href="status/eventMap.png"/>
        <eventStatusTemplate>
            <eventConfig xlink:href="jar:edu/sc/seis/sod/data/templates/eventArm/timeSorted.xml"/>
        </eventStatusTemplate>
        <eventStatusTemplate>
            <eventConfig xlink:href="jar:edu/sc/seis/sod/data/templates/eventArm/depthSorted.xml"/>
        </eventStatusTemplate>
        <eventStatusTemplate>
            <eventConfig xlink:href="jar:edu/sc/seis/sod/data/templates/eventArm/locSorted.xml"/>
        </eventStatusTemplate>
        <eventStatusTemplate>
            <eventConfig xlink:href="jar:edu/sc/seis/sod/data/templates/eventArm/magSorted.xml"/>
        </eventStatusTemplate>
        
    </eventArm>
    <networkArm>
        <networkFinder>
            <description>Connect to the IRIS networkDC</description>
            <name>IRIS_NetworkDC</name>
            <dns>edu/iris/dmc</dns>
            <refreshInterval>
                <unit>MINUTE</unit>
                <value>3000</value>
            </refreshInterval>
        </networkFinder>
        <networkOR>
            <networkCode>II</networkCode>
            <networkCode>IU</networkCode>
            <networkCode>IC</networkCode>
            <networkCode>US</networkCode>
        </networkOR>
        <stationEffectiveTimeOverlap>
            <effectiveTimeOverlap>
                <min>20040101T00:00:00.001Z</min>
                <max>20050131T23:59:59.999Z</max>
            </effectiveTimeOverlap>
        </stationEffectiveTimeOverlap>
        <siteAND>
            <siteOR>
                <siteCode>  </siteCode>
                <siteCode>00</siteCode>
            </siteOR>
            <siteEffectiveTimeOverlap>
                <effectiveTimeOverlap>
                    <min>20040101T00:00:00.001Z</min>
                    <max>20050131T23:59:59.999Z</max>
                </effectiveTimeOverlap>
            </siteEffectiveTimeOverlap>
        </siteAND>
        <channelAND>
            <bandCode>B</bandCode>
            <gainCode>H</gainCode>
            <channelEffectiveTimeOverlap>
                <effectiveTimeOverlap>
                    <min>20040101T00:00:00.001Z</min>
                    <max>20050131T23:59:59.999Z</max>
                </effectiveTimeOverlap>
            </channelEffectiveTimeOverlap>
        </channelAND>
        <networkInfoTemplateGenerator>
            <netConfig xlink:href="jar:edu/sc/seis/sod/data/templates/networkArm/networks.xml"/>
            <stationConfig xlink:href="jar:edu/sc/seis/sod/data/templates/networkArm/stations.xml"/>
            <channelConfig xlink:href="jar:edu/sc/seis/sod/data/templates/networkArm/channels.xml"/>
        </networkInfoTemplateGenerator>
        
    </networkArm>
    <waveformArm>
        <eventStationOR>
            <eventStationAND>
                <embeddedOriginSubsetter>
                    <magnitudeRange>
                        <min>5.1</min>
                        <max>10.0</max>
                    </magnitudeRange>
                </embeddedOriginSubsetter>
                <embeddedOriginSubsetter>
                    <originDepthRange>
                        <unitRange>
                            <unit>KILOMETER</unit>
                            <min>200</min>
                            <max>1000</max>
                        </unitRange>
                    </originDepthRange>
                </embeddedOriginSubsetter>
            </eventStationAND>
            
            <eventStationAND>
                <embeddedOriginSubsetter>
                    <magnitudeRange>
                        <min>5.3</min>
                        <max>10.0</max>
                    </magnitudeRange>
                </embeddedOriginSubsetter>
                <embeddedOriginSubsetter>
                    <originDepthRange>
                        <unitRange>
                            <unit>KILOMETER</unit>
                            <min>100</min>
                            <max>200</max>
                        </unitRange>
                    </originDepthRange>
                </embeddedOriginSubsetter>
            </eventStationAND>
            
            <eventStationAND>
                <distanceRange>
                    <unit>DEGREE</unit>
                    <min>0</min>
                    <max>10</max>
                </distanceRange>
                <embeddedOriginSubsetter>
                    <magnitudeRange>
                        <min>3.0</min>
                        <max>10.0</max>
                    </magnitudeRange>
                </embeddedOriginSubsetter>
            </eventStationAND>
            
            <eventStationAND>
                <distanceRange>
                    <unit>DEGREE</unit>
                    <min>10</min>
                    <max>30</max>
                </distanceRange>
                <embeddedOriginSubsetter>
                    <magnitudeRange>
                        <min>4.0</min>
                        <max>10.0</max>
                    </magnitudeRange>
                </embeddedOriginSubsetter>
            </eventStationAND>
            
            <linearDistanceMagnitudeRange>
                <magnitudeRange>
                    <min>4.9</min>
                    <max>5.5</max>
                </magnitudeRange>
                <unit>DEGREE</unit>
                <min>30</min>
                <max>60</max>
            </linearDistanceMagnitudeRange>
            
            <eventStationAND>
                <distanceRange>
                    <unit>DEGREE</unit>
                    <min>60</min>
                    <max>180</max>
                </distanceRange>
                <embeddedOriginSubsetter>
                    <magnitudeRange>
                        <min>5.5</min>
                        <max>10.0</max>
                    </magnitudeRange>
                </embeddedOriginSubsetter>
            </eventStationAND>
            
        </eventStationOR>
        
        <motionVectorArm>
            <requestGeneratorWrapper>
               <phaseRequest>
                   <model>prem</model>
                   <beginPhase>ttp</beginPhase>
                   <beginOffset>
                       <unit>SECOND</unit>
                       <value>-120</value>
                   </beginOffset>
                   <endPhase>2.0kmps</endPhase>
                   <endOffset>
                       <unit>SECOND</unit>
                       <value>60</value>
                   </endOffset>
               </phaseRequest>
            </requestGeneratorWrapper>

            <fixedDataCenter>
                <name>IRIS_BudDataCenter</name>
                <dns>edu/iris/dmc</dns>
            </fixedDataCenter>
            <ORAvailableDataWrapper>
               <someCoverage/>
            </ORAvailableDataWrapper>
            
           
            <ORLocalSeismogramSubsetterWrapper>
            <phaseSignalToNoise>
                <modelName>prem</modelName>    
                <phaseName>ttp</phaseName>
                <shortOffsetBegin>
                    <unit>SECOND</unit>
                    <value>-5</value>
                </shortOffsetBegin>
                <shortOffsetEnd>
                    <unit>SECOND</unit>
                    <value>5</value>
                </shortOffsetEnd>
                <longOffsetBegin>
                    <unit>SECOND</unit>
                    <value>-105</value>
                </longOffsetBegin>
                <longOffsetEnd>
                    <unit>SECOND</unit>
                    <value>-5</value>
                </longOffsetEnd>
                <ratio>2</ratio>
            </phaseSignalToNoise>
            </ORLocalSeismogramSubsetterWrapper>
 
            <saveSeismogramToFile>
                <fileType>sac</fileType>
                <dataDirectory>BUD_II</dataDirectory>
                <eventDirLabel>
                    Event_<originTime>yyyy_DDD_HH_mm_ss</originTime>
                </eventDirLabel>
            </saveSeismogramToFile>
            <localSeismogramTemplateGenerator>  
                <fileDir>status</fileDir>
                <seismogramConfig xlink:href="jar:edu/sc/seis/sod/data/templates/waveformArm/localSeismogram.xml"/>
            </localSeismogramTemplateGenerator>
            
        </motionVectorArm>
        <waveformEventTemplateGenerator>
            <waveformConfig xlink:href="jar:edu/sc/seis/sod/data/templates/waveformArm/waveformEvent.xml"/>
        </waveformEventTemplateGenerator>
    </waveformArm>
</sod>
